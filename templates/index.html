<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dark Tales - Interactive Horror</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='story.css') }}">
</head>
<body>
    <!-- Background Animation Elements -->
    <div class="bg-animation">
        <div class="floating-mist mist-1"></div>
        <div class="floating-mist mist-2"></div>
        <div class="floating-mist mist-3"></div>
        <div class="glowing-eyes eyes-1"></div>
        <div class="glowing-eyes eyes-2"></div>
        <div class="glowing-eyes eyes-3"></div>
        <div class="glowing-eyes eyes-4"></div>
    </div>

    <!-- Header Navigation -->
    <header class="header">
        <nav class="nav">
            <div class="logo">Dark Tales</div>
            <div class="nav-menu">
                <a href="#" class="nav-item">New Game</a>
                <a href="#" class="nav-item">Continue</a>
                <a href="#" class="nav-item">Settings</a>
                <a href="#" class="nav-item">Themes</a>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main-content fade-in">
        <!-- Story Image -->
        <div class="story-image">
            <div class="image-placeholder">
                AI-generated horror scene image here
            </div>
        </div>

        <!-- Story Container -->
        <div class="story-container">
            <div class="story-box">
                <p class="story-text">
                    The ancient door creaks open, revealing a corridor shrouded in impenetrable darkness. The musty air carries whispers of forgotten souls, and your flickering candle barely illuminates the decay that surrounds you. As you step forward, the floorboards groan beneath your feet, and you notice strange symbols carved into the wallsâ€”symbols that seem to writhe and shift in the dancing candlelight. At the end of the corridor, two paths diverge: one leads to a spiral staircase descending into the bowels of the earth, while the other opens to a chamber where shadows dance without any source of light...
                </p>
            </div>
        </div>

        <!-- Choice Buttons -->
        <div class="choices-container">
            <button class="choice-btn" onclick="makeChoice(1)">
                <strong>Descend the spiral staircase</strong><br>
                Follow the stone steps into the depths below, where the whispers grow louder and the air grows colder
            </button>
            <button class="choice-btn" onclick="makeChoice(2)">
                <strong>Enter the shadow chamber</strong><br>
                Step into the room where darkness itself seems alive, dancing without light or reason
            </button>
        </div>
    </main>

    <script>
        const choicesContainer = document.querySelector('.choices-container');

function makeChoice(choice) {
    if (document.body.classList.contains('distortion')) return; // prevent multiple clicks

    document.body.classList.add('distortion');

    const storyText = document.querySelector('.story-text');
    const choices = document.querySelectorAll('.choice-btn');

    // Fade out current content
    document.querySelector('.story-container').style.opacity = '0';
    choicesContainer.style.opacity = '0';

    setTimeout(() => {
        if (choice === 1) {
            storyText.textContent = "You descend the spiral staircase...";
            choices[0].innerHTML = "<strong>Turn around to face what's behind you</strong><br>Confront the presence that breathes down your neck in the darkness";
            choices[1].innerHTML = "<strong>Continue deeper into the abyss</strong><br>Press forward blindly, following the whispers that call your name";
        } else {
            storyText.textContent = "You step into the shadow chamber...";
            choices[0].innerHTML = "<strong>Take the shadow's hand</strong><br>Allow the ghostly presence to guide you into their eternal dance";
            choices[1].innerHTML = "<strong>Follow the passage behind the mirror</strong><br>Step through the looking glass into whatever lies beyond";
        }

        // Fade back in
        document.querySelector('.story-container').style.opacity = '1';
        choicesContainer.style.opacity = '1';

        // Remove distortion effect
        setTimeout(() => {
            document.body.classList.remove('distortion');
        }, 300);
    }, 800);
}

    </script>
</body>
</html>